{"version":3,"sources":["services/UserMediaService.js","services/FileService.js","components/AudioSourceList.js","components/VideoSourceList.js","components/AudioVisualization.js","components/TimeCounter.js","components/SaveFilepath.js","App.js","serviceWorker.js","index.js","services/RecorderService.js"],"names":["UserMediaService","getVideo","_getVideo","Object","asyncToGenerator","regenerator_default","a","mark","_callee","source","wrap","_context","prev","next","abrupt","navigator","mediaDevices","getUserMedia","audio","video","mandatory","chromeMediaSource","chromeMediaSourceId","id","minWidth","maxWidth","minHeight","maxHeight","then","handleStream","catch","handleUserMediaError","stop","_x","apply","this","arguments","getAudio","_getAudio","_callee2","_args2","_context2","length","undefined","deviceId","_handleStream","_callee3","stream","_context3","_x2","_handleUserMediaError","_callee4","error","_context4","Error","_x3","fs","require","window","FileService","save","buffer","path","name","Promise","resolve","reject","filename","concat","writeFile","err","console","log","AudioSourceList","state","audioSources","selectedSource","_handleChange","event","_this","find","item","target","value","selectSource","setState","localStorage","setItem","props","onSelect","getSources","enumerateDevices","sources","filter","kind","_this2","_loadFromStorage","sourceId","getItem","react_default","createElement","onChange","className","map","key","label","Component","defaultProps","desktopCapturer","VideoSourceList","screenSources","windowSources","_this$state","toConsumableArray","types","includes","_this$state2","AudioVisualization","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","isDrawActive","toggleDrawActive","_ref","draw","canvas","React","createRef","canDraw","audioDevice","start","canvasCtx","current","getContext","startAudio","startCanvas","clearCanvas","audioStream","audioCtx","AudioContext","webkitAudioContext","analyser","createAnalyser","createMediaStreamSource","connect","fftSize","bufferLength","frequencyBinCount","dataArray","Uint8Array","width","height","clearRect","getByteFrequencyData","numElements","Math","floor","maxNumber","max","arrayList","i","number","average","slice","push","trunc","numbers","reduce","previous","requestAnimationFrame","bind","barHeight","barWidth","x","fillStyle","fillRect","canvasStyle","backgroundColor","style","onClick","ref","TimeCounter","totalSeconds","timer","setInterval","increment","clearInterval","hours","minutes","seconds","_this$getTime","getTime","numberFormat","remote","SaveFilepath","folder","hasTime","format","selectFolder","dialog","showOpenDialog","properties","handleChange","type","checked","defineProperty","formatList","placeholder","readOnly","ipcRenderer","App","isRecording","isPaused","canRecordSystemAudio","videoTarget","audioTarget","systemAudioTarget","isLoading","onVideoSourceSelect","srcObject","muted","onloadedmetadata","e","play","videoSourceList","onAudioSourceSelect","_ref2","audioSourceList","onRecordSystemAudioChange","_ref3","currentTarget","sent","savefilepath","audioTracks","showMessageBox","message","getAudioTracks","addTrack","RecorderService","timeCounter","send","pause","_callee5","_context5","resume","_callee6","_this$state3","_context6","_callee7","_context7","reset","saveFile","_ref8","_callee8","fileName","_context8","Date","now","toString","_x4","deleteRecording","_callee9","_context9","cancelRecording","_callee10","options","_context10","buttons","defaultId","title","detail","response","handleShortcuts","on","_this3","_this3$state","_this$state4","Fragment","_this$state5","appClassName","components_AudioVisualization","components_VideoSourceList","components_AudioSourceList","display","disabled","components_TimeCounter","isActive","controlButtons","components_SaveFilepath","Boolean","location","hostname","match","ReactDOM","render","src_App_0","document","getElementById","serviceWorker","ready","registration","unregister","recorder","blobs","MediaRecorder","ondataavailable","data","_stop","_Users_hanashiro_Desktop_memoplay_screen_recorder_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__","_Users_hanashiro_Desktop_memoplay_screen_recorder_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default","onstop","toArrayBuffer","Blob","arrayBuffer","toBuffer","blob","callback","fileReader","FileReader","onload","result","readAsArrayBuffer","Buffer","byteLength","arr"],"mappings":"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","file":"static/js/main.a2c6e476.chunk.js","sourcesContent":["export const UserMediaService = {\n    async getVideo(source){\n        return navigator.mediaDevices.getUserMedia({\n            audio: false,\n            video: { \n              mandatory: {\n                chromeMediaSource: 'desktop',\n                chromeMediaSourceId: source.id,\n                minWidth: 1280,\n                maxWidth: 1920,\n                minHeight: 720,\n                maxHeight: 1080,\n              }\n            }\n          })\n          .then(UserMediaService.handleStream)\n          .catch(UserMediaService.handleUserMediaError)\n    },\n    async getAudio(source = null){\n      let audio = true;\n      if(source){\n        audio = {\n          deviceId: source.deviceId\n        };\n      }\n      return navigator.mediaDevices.getUserMedia({\n          audio,\n          video: false\n        })\n        .then(UserMediaService.handleStream)\n        .catch(UserMediaService.handleUserMediaError)\n    },\n    async handleStream(stream){\n      return stream;\n    },\n    async handleUserMediaError(error){\n      throw Error(error);\n    }\n};\n\n","const require = window.require,\n    fs = require('fs');\n\nexport const FileService = {\n    save(buffer, path, name){\n        return new Promise((resolve, reject) => {\n            const filename = `${path}/${name}`;\n            fs.writeFile(filename, buffer, (err) => {\n                if(err){\n                    reject(err);\n                }else{\n                    resolve(filename);\n                    console.log(filename)\n                }\n            })\n        })\n    }\n};","import React, {Component} from 'react';\n\nclass AudioSourceList extends Component{\n\n    static defaultProps = {\n        onSelect: () => {}\n    }\n\n    state = {\n        audioSources: [],\n        selectedSource: {}\n    }\n\n    componentDidMount(){\n        this.getSources();\n    }\n\n    async getSources(){\n        const sources = await navigator.mediaDevices.enumerateDevices(),\n            audioSources = sources.filter(item => item.kind === 'audioinput');\n        this.setState({\n            audioSources\n        }, () => {\n            this._loadFromStorage();\n        });\n        return audioSources;\n    }\n\n    _handleChange = (event) => {\n        const selectedSource = this.state.audioSources.find(item => item.deviceId === event.target.value);\n        this.selectSource(selectedSource);\n    }\n\n    _loadFromStorage(){\n        const sourceId = localStorage.getItem('_audio_source'),\n            selectedSource = this.state.audioSources.find(item => item.deviceId === sourceId);\n        if(selectedSource){\n            this.selectSource(selectedSource);\n        }else{\n            this.selectSource(this.state.audioSources[0]);\n        }\n    }\n\n    selectSource = (selectedSource) => {\n        if(selectedSource){\n            this.setState({selectedSource});\n            localStorage.setItem('_audio_source', selectedSource.deviceId);\n            this.props.onSelect(selectedSource);\n        }\n    }\n\n    render(){\n        const {state} = this;\n        return (\n            <div>\n                <div>Audio input source</div>\n                <select value={state.selectedSource.deviceId} onChange={this._handleChange} className=\"settings-select\" >\n                    {\n                        state.audioSources.map(item => <option key={item.deviceId} value={item.deviceId} >{item.label}</option>)\n                    }\n                </select>\n                {/*\n                <ul>\n                    {\n                        state.audioSources.map(item => <AudioSourceListItem key={item.deviceId} selectedSource={state.selectedSource} onSelect={this.onSourceSelect} item={item} />)\n                    }\n                </ul>\n                */}\n            </div>\n        )\n    }\n}\n\nfunction AudioSourceListItem(props){\n    const { item, selectedSource } = props,\n        cutIndex = item.label.lastIndexOf('('), \n        label = item.label.substr(0, cutIndex).trim();\n    let classes = '';\n\n    if(selectedSource && item.deviceId === selectedSource.deviceId){\n        classes += 'is-selected';\n    }\n\n    return (\n        <li onClick={() => props.onSelect(item)} className={classes} >\n            <div>{label}</div>\n        </li>\n    );\n}\n\nexport default AudioSourceList;","import React, {Component} from 'react';\n\nconst require = window.require;\nconst { desktopCapturer } = require('electron');\n\nclass VideoSourceList extends Component{\n\n    static defaultProps = {\n        onSelect: () => {}\n    }\n\n    state = {\n        screenSources: [],\n        windowSources: [],\n        selectedSource: {}\n    }\n\n    componentDidMount(){\n        this.getSources();\n    }\n\n    getSources(){\n        desktopCapturer.getSources({ types: ['window', 'screen'] }, (error, sources) => {\n            const windowSources = sources.filter(item => item.id.includes('window')),\n                screenSources = sources.filter(item => item.id.includes('screen'));\n\n            this.setState({\n                windowSources,\n                screenSources\n            }, () => {\n                this._loadFromStorage();\n            });\n        })\n    }\n\n    _handleChange = (event) => {\n        const {screenSources, windowSources} = this.state,\n            selectedSource = [...screenSources, ...windowSources].find(item => item.id === event.target.value);\n        this.selectSource(selectedSource);\n    }\n\n    _loadFromStorage(){\n        const {screenSources, windowSources} = this.state,\n            sourceId = localStorage.getItem('_video_source'),\n            selectedSource = [...screenSources, ...windowSources].find(item => item.id === sourceId);\n        if(selectedSource){\n            this.selectSource(selectedSource);\n        }else{\n            this.selectSource(screenSources[0]);\n        }\n    }\n\n    selectSource = (selectedSource) => {\n        if(selectedSource){\n            this.setState({selectedSource});\n            localStorage.setItem('_video_source', selectedSource.id);\n            this.props.onSelect(selectedSource);\n        }\n    }\n\n    render(){\n        const {state} = this;\n        return (\n            <div>\n                <div>Video input  source</div>\n                <select value={state.selectedSource.id} onChange={(this._handleChange)} className=\"settings-select\" >\n                    <option>-- SCREENS --</option>\n                    {\n                        state.screenSources.map(item => <option key={item.id} value={item.id} >{item.name}</option>)\n                    }\n                    <option>-- WINDOWS --</option>\n                    {\n                        state.windowSources.map(item => <option key={item.id} value={item.id} >{item.name}</option>)\n                    }\n                </select>\n                {/*\n                <ul>\n                    {\n                        state.screenSources.map(item => <VideoSourceListItem key={item.id} selectedSource={state.selectedSource} onSelect={this.onSourceSelect} item={item} />)\n                    }\n                </ul>\n                \n                <hr />\n\n                {!state.selectedSource ? '' : <img src={state.selectedSource.thumbnail.toDataURL()} />}\n                <div>Windows</div>\n                <ul>\n                    {\n                        state.windowSources.map(item => <VideoSourceListItem key={item.id} selectedSource={state.selectedSource} onSelect={this.onSourceSelect} item={item} />)\n                    }\n                </ul>\n                \n                */}\n                \n            </div>\n        )\n    }\n}\n\nfunction VideoSourceListItem(props){\n    const { item, selectedSource } = props;\n    let classes = '';\n\n    if(selectedSource && item.id === selectedSource.id){\n        classes += 'is-selected';\n    }\n    return (\n        <li onClick={() => props.onSelect(item)} className={classes} >\n            <img src={item.thumbnail.toDataURL()} />\n            <div>{item.name}</div>\n        </li>\n    );\n}\n\nexport default VideoSourceList;","import React, { Component } from 'react';\n\nimport { UserMediaService } from './../services/UserMediaService';\n\nclass AudioVisualization extends Component{\n    static defaultProps = {\n        audioDevice: null\n    }\n\n    state = {\n        isDrawActive: true\n    }\n\n    constructor(props){\n        super(props);\n        this.canvas = React.createRef();\n        this.canDraw = false;\n        //this.audioMini = React.createRef();\n    }\n\n    async componentDidUpdate(){\n        if(this.props.audioDevice){\n            this.start();\n        }else{\n            this.stop();\n        }\n    }\n\n    async componentDidMount(){\n        this.canvasCtx = this.canvas.current.getContext('2d');\n        if(this.props.audioDevice){\n            this.start();\n        }\n    }\n\n    toggleDrawActive = () => {\n        this.setState(({isDrawActive}) => {\n            return {isDrawActive: !isDrawActive};\n        }, () => {\n            this.draw();\n        })\n    }\n \n    start(){\n        this.startAudio();\n        this.startCanvas();\n        this.canDraw = true;\n        this.draw();\n\n        //this.getBarValues();\n    }\n\n    stop(){\n        this.canDraw = false;\n        this.clearCanvas();\n    }\n\n    async startAudio(){\n        if(this.props.audioDevice){\n            this.audioStream = await UserMediaService.getAudio(this.props.audioDevice);\n            const audioCtx = new (window.AudioContext || window.webkitAudioContext)(),\n            analyser = audioCtx.createAnalyser(),\n            source = audioCtx.createMediaStreamSource(this.audioStream);\n        \n            source.connect(analyser);\n\n            analyser.fftSize = 256;\n            this.analyser = analyser;\n            this.bufferLength = analyser.frequencyBinCount;\n            this.dataArray = new Uint8Array(this.bufferLength);\n        }\n    }\n\n    startCanvas(){\n        const canvas = this.canvas.current;\n        canvas.width = this.props.width || 100;\n        canvas.height = this.props.height || 100;\n    }\n\n    \n    clearCanvas(){\n        const canvas = this.canvas.current,\n            {width, height} = canvas;\n        this.canvasCtx.clearRect(0, 0, width, height);\n    }\n\n    getBarValues(){\n        const {bufferLength, dataArray, analyser} = this;\n\n        //requestAnimationFrame(this.getBarValues.bind(this));\n        //setTimeout(this.getBarValues.bind(this), 1000/10)\n\n        if(!this.audioStream){\n            return false;\n        }\n        analyser.getByteFrequencyData(dataArray);\n\n        const numArrays = 3,\n            numElements = Math.floor(bufferLength / numArrays),\n            maxNumber = Math.max(...dataArray),\n            arrayList = [];\n\n        for(let i = 0; i < numArrays; i++){\n            const number = this.average(dataArray.slice(0, numElements));\n            arrayList.push( Math.trunc(((number / maxNumber) || 0 ) * 10) + '0' )  ;\n        }\n    }\n\n    average(numbers){\n        const length = numbers.length,\n            values = numbers.reduce((previous, current) => current += previous);\n        return values/length;\n    }\n\n    draw() {\n        if(this.canDraw && this.state.isDrawActive){\n            const canvas = this.canvas.current,\n                {width, height} = canvas,\n                {canvasCtx, bufferLength, dataArray, analyser} = this;\n            \n            this.clearCanvas();\n\n            requestAnimationFrame(this.draw.bind(this));\n            //setTimeout(this.draw.bind(this), 1000/10)\n\n\n            if(!this.audioStream){\n                return false;\n            }\n\n    \n            analyser.getByteFrequencyData(dataArray);\n    \n            /*canvasCtx.fillStyle = 'rgb(0, 0, 0)';\n            canvasCtx.fillRect(0, 0, width, height);*/\n\n            const barWidth = (width / bufferLength) * 2.5;\n            let barHeight,\n            x = 0;\n\n\n            for(let i = 0; i < bufferLength; i++) {\n                barHeight = dataArray[i]/2;\n        \n                canvasCtx.fillStyle = 'rgb(50, ' + (barHeight + 100) + ',50)';\n                canvasCtx.fillRect(x, height - barHeight / 2, barWidth, barHeight);\n        \n                x += barWidth + 1;\n            }\n            \n\n           /*const barWidth = width;\n           let barHeight;\n\n           for(let i = 0; i < bufferLength; i++) {\n                barHeight = dataArray[i]/2;\n\n                var grad1 = canvasCtx.createLinearGradient(0, height * .2, 0, height);\n                grad1.addColorStop(0.2, '#f15a47'); //red\n                grad1.addColorStop(0.5, '#f2ee47'); // yellow\n                grad1.addColorStop(1, '#389f47'); // green\n\n                canvasCtx.fillStyle = grad1;\n       \n                //canvasCtx.fillStyle = 'rgb(50, ' + (barHeight + 100) + ',50)';\n                canvasCtx.fillRect(0, height - barHeight / 2, barWidth, barHeight);\n           }*/\n        }\n\n\n    }\n\n    render(){\n        const {state} = this,\n            canvasStyle = state.isDrawActive ? {} : {backgroundColor: '#333'};\n\n        return (\n            <div>\n                {/* <AudioVisualizationMini ref={this.audioMini} /> */}\n                <canvas style={canvasStyle} onClick={this.toggleDrawActive} ref={this.canvas} height={50} width={100} />\n            </div>\n        )\n    }\n}\n\nclass AudioVisualizationMini extends Component{\n    state = {\n        bar1: 0,\n        bar2: 0,\n        bar3: 0\n    }\n\n    render(){\n        const {bar1, bar2, bar3} = this.state,\n            a = `bar-height-${bar1}`,\n            b = `bar-height-${bar2}`,\n            c = `bar-height-${bar3}`;\n        return (\n            <div className=\"audio-visualization-mini\" >\n                <div className=\"audio-visualization-bar-container\" >\n                    <div className={\"audio-bar \" + a} ></div>\n                    <div className={\"audio-bar \" + b} ></div>\n                    <div className={\"audio-bar \" + c} ></div>\n                </div>\n            </div>\n        );\n    }\n    \n}\n\nexport default AudioVisualization;","import React, { Component } from 'react';\n\nclass TimeCounter extends Component{\n    state = {\n        totalSeconds: 0\n    }\n\n    constructor(props){\n        super(props);\n        this.timer = null;\n    }\n\n    start(){\n        this.timer = setInterval(() => this.increment(), 1000);\n    }\n\n    stop(){\n        clearInterval(this.timer);\n    }\n\n    reset(){\n        this.setState({\n            totalSeconds: 0\n        });\n    }\n\n    increment(){\n        this.setState(({totalSeconds}) => ({totalSeconds: totalSeconds + 1}));\n    }\n\n    numberFormat(number){\n        return ('00' + number).slice(-2);\n    }\n\n    getTime(){\n        const {totalSeconds} = this.state;\n\n        const hours = Math.floor(totalSeconds /3600),\n            minutes = Math.floor((totalSeconds - hours*3600)/60),\n            seconds = totalSeconds - (hours*3600 + minutes*60);\n\n        return {seconds, minutes, hours};\n    }\n\n    render(){\n        const {seconds, minutes, hours} = this.getTime();\n        return (\n            <div className=\"time-counter\" >\n                <span>{hours}:{this.numberFormat(minutes)}:{this.numberFormat(seconds)}</span>\n            </div>\n        );\n    }\n}\n\nexport default TimeCounter;","import React, { Component } from 'react';\n\nconst require = window.require;\nconst { remote } = require('electron');\n\nclass SaveFilepath extends Component{\n    state = {\n        folder: '',\n        filename: '',\n        hasTime: false,\n        format: ''\n    }\n\n    constructor(props){\n        super(props);\n        this.formatList = ['mp4', 'avi'];\n    }\n\n    componentDidMount(){\n        const folder = localStorage.getItem('_filepath_folder') || '',\n            format = localStorage.getItem('_filepath_format') || 'webm',\n            hasTime = localStorage.getItem('_filepath_hasTime') === 'true';\n        this.setState({\n            folder,\n            format,\n            hasTime\n        })\n    }\n\n    selectFolder = async () => {\n        const folder = remote.dialog.showOpenDialog({ properties: ['openDirectory'] });\n        if(folder){\n            this.setState({folder: folder[0]});\n            localStorage.setItem(`_filepath_folder`, folder[0]);\n        }\n    }\n\n    handleChange = (event) => {\n        const { target } = event,\n            {name} = target,\n            value = target.type === 'checkbox' ? target.checked : target.value;\n\n        this.setState({\n            [name]: value\n        })\n\n        localStorage.setItem(`_filepath_${name}`, value);\n    }\n\n    render(){\n        const {folder, filename, format, hasTime} = this.state;\n        return(\n            <div className=\"save-file-path\" >\n                <input name=\"folder\" type=\"text\" onClick={this.selectFolder} value={folder} placeholder=\"folder\" readOnly />\n                <input name=\"filename\" type=\"text\" onChange={this.handleChange} value={filename} placeholder=\"file name\" />\n                <select name=\"format\" onChange={this.handleChange} value={format} >\n                    <option value=\"webm\" >webm (default)</option>\n                    {\n                        this.formatList.map(format => <option value={format} >{format}</option>)\n                    }\n                </select>\n                <label>\n                    <input name=\"hasTime\" type=\"checkbox\" onChange={this.handleChange} checked={hasTime} />\n                    Time\n                </label>\n            </div>\n        );\n    }\n}\n\nexport default SaveFilepath;","import React, { Component } from 'react';\nimport './App.css';\n\nimport { UserMediaService } from './services/UserMediaService';\nimport { RecorderService } from './services/RecorderService';\nimport { FileService } from './services/FileService';\n\nimport AudioSourceList from './components/AudioSourceList';\nimport VideoSourceList from './components/VideoSourceList';\nimport AudioVisualization from './components/AudioVisualization';\nimport TimeCounter from './components/TimeCounter';\nimport SaveFilepath from './components/SaveFilepath';\n\nconst require = window.require;\nconst { ipcRenderer, remote } = require('electron');\n// https://zhirzh.github.io/2017/09/02/mediarecorder/\n\nclass App extends Component { \n\n  state = {\n    isRecording: false,\n    isPaused: false,\n    canRecordSystemAudio: false,\n    videoTarget: null,\n    audioTarget: null,\n    systemAudioTarget: null,\n    isLoading: false\n  }\n\n  constructor(props) {\n    super(props);\n    this.video = React.createRef();\n    this.timeCounter = React.createRef();\n    this.savefilepath = React.createRef();\n    this.videoSourceList = React.createRef();\n    this.audioSourceList = React.createRef();\n  }\n\n  componentDidMount(){\n    this.handleShortcuts();\n\n    ipcRenderer.on('back:convert-video:complete', () => {\n      this.setState({isLoading: false});\n    })\n  }\n\n  handleShortcuts(){\n    ipcRenderer.on('play', ()=> {\n      const {isRecording, isPaused} = this.state;\n      if(!isRecording && !isPaused){\n        this.start();\n      }else if(isRecording && !isPaused){\n        this.pause();\n      }else{\n        this.resume();\n      }\n    });\n    ipcRenderer.on('stop', ()=> {\n      this.stop();\n    });\n    ipcRenderer.on('delete', ()=> {\n      this.cancelRecording();\n    });\n  }\n\n  onVideoSourceSelect = async (source) => {\n    this.setState({videoTarget: source});\n    const video = this.video.current;\n\n    UserMediaService.getVideo(source)\n      .then(stream => {\n        console.log(source, stream)\n        video.srcObject = stream;\n        video.muted = true;\n        video.onloadedmetadata = (e) => video.play();\n      })\n      .catch(() => {\n        const videoSourceList = this.videoSourceList.current;\n        videoSourceList.selectSource(videoSourceList.state.screenSources[0]);\n      })\n  }\n\n  onAudioSourceSelect = async (source) => {\n    this.setState({audioTarget: source});\n\n    UserMediaService.getAudio(source)\n      .then(stream => {\n        console.log(source, stream)\n      })\n      .catch(() => {\n        const audioSourceList = this.audioSourceList.current;\n        audioSourceList.selectSource(audioSourceList.state.audioSources[0]);\n      })\n  }\n\n  onRecordSystemAudioChange = async (event) => {\n    const canRecordSystemAudio = event.currentTarget.checked;\n    let systemAudioTarget = false;\n    if(canRecordSystemAudio){\n      systemAudioTarget = await UserMediaService.getAudio();\n    }\n    this.setState({canRecordSystemAudio, systemAudioTarget});\n  }\n\n  start = async () => {\n    const savefilepath = this.savefilepath.current;\n    if(this.state.isLoading){\n      return false;\n    }\n    if(!savefilepath.state.folder){\n      remote.dialog.showMessageBox({\n        message: 'Select a folder to save the file'\n      });\n      this.savefilepath.current.selectFolder();\n      return false;\n    }\n\n    const {videoTarget, audioTarget, isRecording, canRecordSystemAudio, systemAudioTarget} = this.state,\n      stream = this.video.current.srcObject;\n    if(videoTarget && !isRecording){\n      if(audioTarget){\n        const audioStream = await UserMediaService.getAudio(audioTarget),\n          audioTracks = audioStream.getAudioTracks();\n        stream.addTrack(audioTracks[0]);\n      }\n      RecorderService.start(stream);\n      this.setState({isRecording: true, isPaused: false});\n      this.timeCounter.current.start();\n      ipcRenderer.send('win:start');\n    }\n  }\n\n  pause = async () => {\n    const {isRecording, isPaused} = this.state;\n    if(isRecording && !isPaused){\n      RecorderService.pause();\n      this.setState({isRecording: true, isPaused: true});\n      this.timeCounter.current.stop();\n      ipcRenderer.send('win:pause');\n    }\n  }\n\n  resume = async () => {\n    const {isRecording, isPaused} = this.state;\n    if(isRecording && isPaused){\n      RecorderService.resume();\n      this.setState({isRecording: true, isPaused: false});\n      this.timeCounter.current.start();\n      ipcRenderer.send('win:resume');\n    }\n  }\n\n  stop = async () => {\n    const {isRecording} = this.state;\n    if(isRecording){\n      const buffer = await RecorderService.stop();\n      this.setState({isRecording: false, isPaused: false});\n      this.timeCounter.current.stop();\n      this.timeCounter.current.reset();\n      ipcRenderer.send('win:stop');\n      return this.saveFile(buffer);\n    }\n  }\n\n  saveFile = async (buffer) => {\n    const savefilepath = this.savefilepath.current;\n    const folder = `${savefilepath.state.folder || '.'}/`,\n      hasTime = savefilepath.state.hasTime,\n      format = savefilepath.state.format,\n      fileName = `${savefilepath.state.filename || Date.now().toString()}${!hasTime ? '' : (Date.now().toString())}.webm`;\n\n    await FileService.save(buffer, folder, fileName);\n    if(format !== 'webm'){\n      this.setState({isLoading: true});\n      ipcRenderer.send('win:convert-video', {folder, fileName, type: format});\n    }\n    console.log('save')\n  }\n\n  deleteRecording = async () => {\n    const {isRecording} = this.state;\n    if(isRecording){\n      await RecorderService.stop();\n      this.setState({isRecording: false, isPaused: false});\n      this.timeCounter.current.stop();\n      this.timeCounter.current.reset();\n      ipcRenderer.send('win:cancel');\n    }\n  }\n\n  cancelRecording = async () => {\n    this.pause();\n    const options = {\n      type: 'question',\n      buttons: ['No', 'Yes'],\n      defaultId: 2,\n      title: 'Question',\n      message: 'Do you want to delete the current recording?',\n      detail: 'it cannot be undone',\n    };\n    remote.dialog.showMessageBox(null, options, (response) => {\n      if(response === 1){ // Yes\n        this.deleteRecording();\n      }\n    })\n  }\n\n  controlButtons(){\n    const { isRecording, isPaused } = this.state;\n\n    if(isRecording && !isPaused){\n      return (\n        <>\n          <button className=\"record-control-button\" onClick={this.cancelRecording} ><i className=\"fas fa-trash-alt\" /><span>Delete</span></button>\n          <button className=\"record-control-button\" onClick={this.pause} ><i className=\"fas fa-pause\" /><span>Pause</span></button>\n          <button className=\"record-control-button\" onClick={this.stop} ><i className=\"fas fa-stop\" /><span>Stop</span></button>\n        </>\n      )\n    }else{\n      return (\n        <>\n          <button className=\"record-control-button\" onClick={this.cancelRecording} ><i className=\"fas fa-trash-alt\" /><span>Delete</span></button>\n          <button className=\"record-control-button\" onClick={this.resume} ><i className=\"fas fa-play\" /><span>Resume</span></button>\n          <button className=\"record-control-button\" onClick={this.stop} ><i className=\"fas fa-stop\" /><span>Stop</span></button>\n        </>\n      )\n    }\n  }\n\n\n  render() {\n    const { isRecording, canRecordSystemAudio, audioTarget, isLoading } = this.state;\n    let appClassName = 'App';\n    if(isRecording){\n      appClassName += ' is-recording';\n    }\n    return (\n      <div className={appClassName}>\n        <div className=\"app-container\" >\n          <video className=\"video-preview\" ref={this.video} />\n          <div className=\"audio-visualization-container\" >\n            <AudioVisualization height={50} width={100} audioDevice={audioTarget}  />\n          </div>\n\n          <div className=\"settings-control\">\n            <div className=\"settings-sources\" >\n              <VideoSourceList ref={this.videoSourceList} onSelect={this.onVideoSourceSelect} />\n              <AudioSourceList ref={this.audioSourceList} onSelect={this.onAudioSourceSelect} />\n              <label style={{'display': 'none'}} >\n                <input disabled type=\"checkbox\" checked={canRecordSystemAudio} onChange={this.onRecordSystemAudioChange} /> Record System Audio\n              </label>\n            </div>\n            <div className=\"record-control\" > \n              <button className=\"record-control-button\" onClick={this.start} ><i className=\"fas fa-circle\" /><span>Record</span></button>\n            </div>\n          </div>\n\n          <div className=\"recording-control\" >\n            <div className=\"time-counter-container\" >\n              <TimeCounter ref={this.timeCounter} isActive />\n            </div>\n            <div className=\"record-control\" >\n              {this.controlButtons()}\n            </div>\n          </div>\n\n          <div className=\"save-file-container\" >\n              <SaveFilepath ref={this.savefilepath} />\n          </div>\n\n        </div>\n\n        <div className={'loading-container' + (isLoading ? ' is-loading' : '')}>\n          <span>Wait . . .</span>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","\nexport const RecorderService = {\n    recorder: null,\n    blobs: [],\n    start(stream){\n        if(!RecorderService.recorder){\n            RecorderService.recorder = new MediaRecorder(stream);\n            RecorderService.blobs = [];\n\n            RecorderService.recorder.ondataavailable = function(event){\n                RecorderService.blobs.push(event.data);\n            }\n\n            RecorderService.recorder.start();\n        }\n    },\n    async stop(){\n        return new Promise((resolve) =>  {\n            if(RecorderService.recorder && RecorderService.recorder.state !== null){\n                RecorderService.recorder.onstop = function(){\n                    RecorderService.toArrayBuffer(new Blob(RecorderService.blobs, {type: 'video/webm'}), function(arrayBuffer){\n                        const buffer = RecorderService.toBuffer(arrayBuffer);\n                        resolve(buffer);\n                    })\n                    RecorderService.recorder = null;\n                }\n                RecorderService.recorder.stop();\n            }\n        })\n    },\n    pause(){\n        if(RecorderService.recorder && RecorderService.recorder.state === 'recording'){\n            RecorderService.recorder.pause();\n        }\n    },\n    resume(){\n        if(RecorderService.recorder && RecorderService.recorder.state === 'paused'){\n            RecorderService.recorder.resume();\n        }\n    },\n    toArrayBuffer(blob, callback){\n\t\tlet fileReader = new FileReader();\n\t\tfileReader.onload = function(){\n\t\t\tlet arrayBuffer = this.result;\n\t\t\tcallback(arrayBuffer);\n\t\t}\n\t\tfileReader.readAsArrayBuffer(blob);\n\t},\n\ttoBuffer(arrayBuffer){\n\t\tlet buffer = new Buffer(arrayBuffer.byteLength);\n\t\tlet arr = new Uint8Array(arrayBuffer)\n\t\tfor(let i = 0; i < arr.byteLength; i++){\n\t\t\tbuffer[i] = arr[i];\n\t\t}\n\t\treturn buffer;\n\t}\n};"],"sourceRoot":""}