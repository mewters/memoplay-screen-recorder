{"version":3,"sources":["3rd/fix-webm-duration.js","services/UserMediaService.js","services/FileService.js","components/AudioSourceList.js","components/VideoSourceList.js","components/AudioVisualization.js","components/TimeCounter.js","components/SaveFilepath.js","App.js","serviceWorker.js","index.js","services/RecorderService.js"],"names":["definition","sections","172351395","name","type","646","759","754","755","642","647","645","108","63","190023271","16010","16026","16037","16053","15963","15995","9522","139690087","21863284","3515","5035","5036","88713574","13220","13188","1882403","1868715","2013475","1999803","1092","10532","10748","10687","10661","710577","1161","1121","15273","3456","5953","103","6228","6359","39","43","35","32","33","34","13729","38","110","37","27","122","123","125","36","13730","14","104","76","77","75","78","79","72","73","74","47","106212971","46","87","13253","3","57","8","5546","28","11751","11768","254851","216698","209231","4991","5614","4974","177564","6","9122","362120","13382","1742487","1785920","438848","42","12203","5802","5819","9764","9980","9919","9893","96","26","5048","5056","5049","48","58","5290","5307","5324","5341","5296","5306","5298","5299","963876","1029411","230371","97","53","14517","31","15739","8804","98","99","100","101","102","105","109","64","65","70","71","68","11648","8768","4145","4146","4147","4148","596","597","4149","2017","2018","2019","2020","2021","2022","206814059","59","51","55","119","113","112","50","4984","106","91","22","23","4959","107","155296873","8615","1662","1646","1632","1628","1710","1653","1633","1634","4433776","1465","1468","1469","1499","1501","54","13252","5716","17","18","24","1432","11879","11964","9155","15","9","0","5","892","894","10564","10581","1293","10513","10530","10547","39109479","13171","9152","10442","9162","9157","9161","9156","9158","10184","1443","1146","1156","1159","1157","doInherit","newClass","baseClass","prototype","Object","create","constructor","WebmBase","this","WebmUint","call","padHex","hex","length","WebmFloat","WebmContainer","WebmFile","source","setSource","updateBySource","updateByData","setData","data","i","toString","Uint8Array","substr","parseInt","getValue","setValue","value","getFloatArrayType","Float32Array","Float64Array","byteArray","reverse","floatArray","buffer","readByte","offset","readUint","firstByte","bytes","end","id","len","Math","min","slice","info","ctr","section","push","idHex","writeUint","x","draft","flag","c","writeSections","content","contentLength","set","getSectionById","fixDuration","duration","segmentSection","console","log","infoSection","timeScaleSection","durationSection","toBlob","Blob","blob","callback","reader","FileReader","onloadend","file","result","ex","readAsArrayBuffer","module","exports","window","ysFixWebmDuration","UserMediaService","getVideo","_getVideo","asyncToGenerator","regenerator_default","a","mark","_callee","wrap","_context","prev","next","abrupt","navigator","mediaDevices","getUserMedia","audio","video","mandatory","chromeMediaSource","chromeMediaSourceId","minWidth","maxWidth","minHeight","maxHeight","then","handleStream","catch","handleUserMediaError","stop","_x","apply","arguments","getAudio","_getAudio","_callee2","_args2","_context2","undefined","deviceId","_handleStream","_callee3","stream","_context3","_x2","_handleUserMediaError","_callee4","error","_context4","Error","_x3","fs","require","FileService","save","path","Promise","resolve","reject","filename","concat","writeFile","err","AudioSourceList","state","audioSources","selectedSource","_handleChange","event","_this","find","item","target","selectSource","setState","localStorage","setItem","props","onSelect","getSources","enumerateDevices","sources","filter","kind","_this2","_loadFromStorage","sourceId","getItem","react_default","createElement","onChange","className","map","key","label","Component","defaultProps","desktopCapturer","VideoSourceList","screenSources","windowSources","_this$state","toConsumableArray","types","includes","_this$state2","AudioVisualization","classCallCheck","possibleConstructorReturn","getPrototypeOf","isDrawActive","toggleDrawActive","_ref","draw","canvas","React","createRef","canDraw","audioDevice","start","canvasCtx","current","getContext","startAudio","startCanvas","clearCanvas","audioStream","audioCtx","AudioContext","webkitAudioContext","analyser","createAnalyser","createMediaStreamSource","connect","fftSize","bufferLength","frequencyBinCount","dataArray","width","height","clearRect","getByteFrequencyData","numElements","floor","maxNumber","max","arrayList","number","average","trunc","numbers","reduce","previous","requestAnimationFrame","bind","barHeight","barWidth","fillStyle","fillRect","canvasStyle","backgroundColor","style","onClick","ref","TimeCounter","totalSeconds","timer","setInterval","increment","clearInterval","hours","minutes","seconds","_this$getTime","getTime","numberFormat","remote","SaveFilepath","folder","hasTime","format","selectFolder","dialog","showOpenDialog","properties","handleChange","checked","defineProperty","formatList","placeholder","readOnly","ipcRenderer","App","isRecording","isPaused","canRecordSystemAudio","videoTarget","audioTarget","systemAudioTarget","isLoading","onVideoSourceSelect","srcObject","muted","onloadedmetadata","e","play","videoSourceList","onAudioSourceSelect","_ref2","audioSourceList","onRecordSystemAudioChange","_ref3","currentTarget","sent","savefilepath","audioTracks","showMessageBox","message","getAudioTracks","addTrack","RecorderService","timeCounter","send","pause","_callee5","_context5","resume","_callee6","_this$state3","_context6","_callee7","totalTime","_context7","reset","saveFile","_ref8","_callee8","fileName","_context8","Date","now","_x4","deleteRecording","_callee9","_context9","cancelRecording","_callee10","options","_context10","buttons","defaultId","title","detail","response","handleShortcuts","on","_this3","_this3$state","_this$state4","Fragment","_this$state5","appClassName","components_AudioVisualization","components_VideoSourceList","components_AudioSourceList","display","disabled","components_TimeCounter","isActive","controlButtons","components_SaveFilepath","Boolean","location","hostname","match","ReactDOM","render","src_App_0","document","getElementById","serviceWorker","ready","registration","unregister","recorder","blobs","MediaRecorder","ondataavailable","_stop","E_Users_felip_Desktop_Mewters_Projects_memoplay_screen_recorder_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__","E_Users_felip_Desktop_Mewters_Projects_memoplay_screen_recorder_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default","onstop","videoBlob","fixedBlob","toArrayBuffer","arrayBuffer","toBuffer","fileReader","onload","Buffer","byteLength","arr"],"mappings":"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","file":"static/js/main.f2fbc370.chunk.js","sourcesContent":["(function (name, definition) {\r\n    // if (typeof window.define === 'function' && define.amd) {\r\n    //     // RequireJS / AMD\r\n    //     define(definition);\r\n    // } else\r\n    if (typeof module !== 'undefined' && module.exports) {\r\n        // CommonJS / Node.js\r\n        module.exports = definition();\r\n    } else {\r\n        // Direct include\r\n        window.ysFixWebmDuration = definition();\r\n    }\r\n})('fix-webm-duration', function () {\r\n    /*\r\n     * This is the list of possible WEBM file sections by their IDs.\r\n     * Possible types: Container, Binary, Uint, Int, String, Float, Date\r\n     */\r\n    var sections = {\r\n        0xa45dfa3: { name: 'EBML', type: 'Container' },\r\n        0x286: { name: 'EBMLVersion', type: 'Uint' },\r\n        0x2f7: { name: 'EBMLReadVersion', type: 'Uint' },\r\n        0x2f2: { name: 'EBMLMaxIDLength', type: 'Uint' },\r\n        0x2f3: { name: 'EBMLMaxSizeLength', type: 'Uint' },\r\n        0x282: { name: 'DocType', type: 'String' },\r\n        0x287: { name: 'DocTypeVersion', type: 'Uint' },\r\n        0x285: { name: 'DocTypeReadVersion', type: 'Uint' },\r\n        0x6c: { name: 'Void', type: 'Binary' },\r\n        0x3f: { name: 'CRC-32', type: 'Binary' },\r\n        0xb538667: { name: 'SignatureSlot', type: 'Container' },\r\n        0x3e8a: { name: 'SignatureAlgo', type: 'Uint' },\r\n        0x3e9a: { name: 'SignatureHash', type: 'Uint' },\r\n        0x3ea5: { name: 'SignaturePublicKey', type: 'Binary' },\r\n        0x3eb5: { name: 'Signature', type: 'Binary' },\r\n        0x3e5b: { name: 'SignatureElements', type: 'Container' },\r\n        0x3e7b: { name: 'SignatureElementList', type: 'Container' },\r\n        0x2532: { name: 'SignedElement', type: 'Binary' },\r\n        0x8538067: { name: 'Segment', type: 'Container' },\r\n        0x14d9b74: { name: 'SeekHead', type: 'Container' },\r\n        0xdbb: { name: 'Seek', type: 'Container' },\r\n        0x13ab: { name: 'SeekID', type: 'Binary' },\r\n        0x13ac: { name: 'SeekPosition', type: 'Uint' },\r\n        0x549a966: { name: 'Info', type: 'Container' },\r\n        0x33a4: { name: 'SegmentUID', type: 'Binary' },\r\n        0x3384: { name: 'SegmentFilename', type: 'String' },\r\n        0x1cb923: { name: 'PrevUID', type: 'Binary' },\r\n        0x1c83ab: { name: 'PrevFilename', type: 'String' },\r\n        0x1eb923: { name: 'NextUID', type: 'Binary' },\r\n        0x1e83bb: { name: 'NextFilename', type: 'String' },\r\n        0x444: { name: 'SegmentFamily', type: 'Binary' },\r\n        0x2924: { name: 'ChapterTranslate', type: 'Container' },\r\n        0x29fc: { name: 'ChapterTranslateEditionUID', type: 'Uint' },\r\n        0x29bf: { name: 'ChapterTranslateCodec', type: 'Uint' },\r\n        0x29a5: { name: 'ChapterTranslateID', type: 'Binary' },\r\n        0xad7b1: { name: 'TimecodeScale', type: 'Uint' },\r\n        0x489: { name: 'Duration', type: 'Float' },\r\n        0x461: { name: 'DateUTC', type: 'Date' },\r\n        0x3ba9: { name: 'Title', type: 'String' },\r\n        0xd80: { name: 'MuxingApp', type: 'String' },\r\n        0x1741: { name: 'WritingApp', type: 'String' },\r\n        // 0xf43b675: { name: 'Cluster', type: 'Container' },\r\n        0x67: { name: 'Timecode', type: 'Uint' },\r\n        0x1854: { name: 'SilentTracks', type: 'Container' },\r\n        0x18d7: { name: 'SilentTrackNumber', type: 'Uint' },\r\n        0x27: { name: 'Position', type: 'Uint' },\r\n        0x2b: { name: 'PrevSize', type: 'Uint' },\r\n        0x23: { name: 'SimpleBlock', type: 'Binary' },\r\n        0x20: { name: 'BlockGroup', type: 'Container' },\r\n        0x21: { name: 'Block', type: 'Binary' },\r\n        0x22: { name: 'BlockVirtual', type: 'Binary' },\r\n        0x35a1: { name: 'BlockAdditions', type: 'Container' },\r\n        0x26: { name: 'BlockMore', type: 'Container' },\r\n        0x6e: { name: 'BlockAddID', type: 'Uint' },\r\n        0x25: { name: 'BlockAdditional', type: 'Binary' },\r\n        0x1b: { name: 'BlockDuration', type: 'Uint' },\r\n        0x7a: { name: 'ReferencePriority', type: 'Uint' },\r\n        0x7b: { name: 'ReferenceBlock', type: 'Int' },\r\n        0x7d: { name: 'ReferenceVirtual', type: 'Int' },\r\n        0x24: { name: 'CodecState', type: 'Binary' },\r\n        0x35a2: { name: 'DiscardPadding', type: 'Int' },\r\n        0xe: { name: 'Slices', type: 'Container' },\r\n        0x68: { name: 'TimeSlice', type: 'Container' },\r\n        0x4c: { name: 'LaceNumber', type: 'Uint' },\r\n        0x4d: { name: 'FrameNumber', type: 'Uint' },\r\n        0x4b: { name: 'BlockAdditionID', type: 'Uint' },\r\n        0x4e: { name: 'Delay', type: 'Uint' },\r\n        0x4f: { name: 'SliceDuration', type: 'Uint' },\r\n        0x48: { name: 'ReferenceFrame', type: 'Container' },\r\n        0x49: { name: 'ReferenceOffset', type: 'Uint' },\r\n        0x4a: { name: 'ReferenceTimeCode', type: 'Uint' },\r\n        0x2f: { name: 'EncryptedBlock', type: 'Binary' },\r\n        0x654ae6b: { name: 'Tracks', type: 'Container' },\r\n        0x2e: { name: 'TrackEntry', type: 'Container' },\r\n        0x57: { name: 'TrackNumber', type: 'Uint' },\r\n        0x33c5: { name: 'TrackUID', type: 'Uint' },\r\n        0x3: { name: 'TrackType', type: 'Uint' },\r\n        0x39: { name: 'FlagEnabled', type: 'Uint' },\r\n        0x8: { name: 'FlagDefault', type: 'Uint' },\r\n        0x15aa: { name: 'FlagForced', type: 'Uint' },\r\n        0x1c: { name: 'FlagLacing', type: 'Uint' },\r\n        0x2de7: { name: 'MinCache', type: 'Uint' },\r\n        0x2df8: { name: 'MaxCache', type: 'Uint' },\r\n        0x3e383: { name: 'DefaultDuration', type: 'Uint' },\r\n        0x34e7a: { name: 'DefaultDecodedFieldDuration', type: 'Uint' },\r\n        0x3314f: { name: 'TrackTimecodeScale', type: 'Float' },\r\n        0x137f: { name: 'TrackOffset', type: 'Int' },\r\n        0x15ee: { name: 'MaxBlockAdditionID', type: 'Uint' },\r\n        0x136e: { name: 'Name', type: 'String' },\r\n        0x2b59c: { name: 'Language', type: 'String' },\r\n        0x6: { name: 'CodecID', type: 'String' },\r\n        0x23a2: { name: 'CodecPrivate', type: 'Binary' },\r\n        0x58688: { name: 'CodecName', type: 'String' },\r\n        0x3446: { name: 'AttachmentLink', type: 'Uint' },\r\n        0x1a9697: { name: 'CodecSettings', type: 'String' },\r\n        0x1b4040: { name: 'CodecInfoURL', type: 'String' },\r\n        0x6b240: { name: 'CodecDownloadURL', type: 'String' },\r\n        0x2a: { name: 'CodecDecodeAll', type: 'Uint' },\r\n        0x2fab: { name: 'TrackOverlay', type: 'Uint' },\r\n        0x16aa: { name: 'CodecDelay', type: 'Uint' },\r\n        0x16bb: { name: 'SeekPreRoll', type: 'Uint' },\r\n        0x2624: { name: 'TrackTranslate', type: 'Container' },\r\n        0x26fc: { name: 'TrackTranslateEditionUID', type: 'Uint' },\r\n        0x26bf: { name: 'TrackTranslateCodec', type: 'Uint' },\r\n        0x26a5: { name: 'TrackTranslateTrackID', type: 'Binary' },\r\n        0x60: { name: 'Video', type: 'Container' },\r\n        0x1a: { name: 'FlagInterlaced', type: 'Uint' },\r\n        0x13b8: { name: 'StereoMode', type: 'Uint' },\r\n        0x13c0: { name: 'AlphaMode', type: 'Uint' },\r\n        0x13b9: { name: 'OldStereoMode', type: 'Uint' },\r\n        0x30: { name: 'PixelWidth', type: 'Uint' },\r\n        0x3a: { name: 'PixelHeight', type: 'Uint' },\r\n        0x14aa: { name: 'PixelCropBottom', type: 'Uint' },\r\n        0x14bb: { name: 'PixelCropTop', type: 'Uint' },\r\n        0x14cc: { name: 'PixelCropLeft', type: 'Uint' },\r\n        0x14dd: { name: 'PixelCropRight', type: 'Uint' },\r\n        0x14b0: { name: 'DisplayWidth', type: 'Uint' },\r\n        0x14ba: { name: 'DisplayHeight', type: 'Uint' },\r\n        0x14b2: { name: 'DisplayUnit', type: 'Uint' },\r\n        0x14b3: { name: 'AspectRatioType', type: 'Uint' },\r\n        0xeb524: { name: 'ColourSpace', type: 'Binary' },\r\n        0xfb523: { name: 'GammaValue', type: 'Float' },\r\n        0x383e3: { name: 'FrameRate', type: 'Float' },\r\n        0x61: { name: 'Audio', type: 'Container' },\r\n        0x35: { name: 'SamplingFrequency', type: 'Float' },\r\n        0x38b5: { name: 'OutputSamplingFrequency', type: 'Float' },\r\n        0x1f: { name: 'Channels', type: 'Uint' },\r\n        0x3d7b: { name: 'ChannelPositions', type: 'Binary' },\r\n        0x2264: { name: 'BitDepth', type: 'Uint' },\r\n        0x62: { name: 'TrackOperation', type: 'Container' },\r\n        0x63: { name: 'TrackCombinePlanes', type: 'Container' },\r\n        0x64: { name: 'TrackPlane', type: 'Container' },\r\n        0x65: { name: 'TrackPlaneUID', type: 'Uint' },\r\n        0x66: { name: 'TrackPlaneType', type: 'Uint' },\r\n        0x69: { name: 'TrackJoinBlocks', type: 'Container' },\r\n        0x6d: { name: 'TrackJoinUID', type: 'Uint' },\r\n        0x40: { name: 'TrickTrackUID', type: 'Uint' },\r\n        0x41: { name: 'TrickTrackSegmentUID', type: 'Binary' },\r\n        0x46: { name: 'TrickTrackFlag', type: 'Uint' },\r\n        0x47: { name: 'TrickMasterTrackUID', type: 'Uint' },\r\n        0x44: { name: 'TrickMasterTrackSegmentUID', type: 'Binary' },\r\n        0x2d80: { name: 'ContentEncodings', type: 'Container' },\r\n        0x2240: { name: 'ContentEncoding', type: 'Container' },\r\n        0x1031: { name: 'ContentEncodingOrder', type: 'Uint' },\r\n        0x1032: { name: 'ContentEncodingScope', type: 'Uint' },\r\n        0x1033: { name: 'ContentEncodingType', type: 'Uint' },\r\n        0x1034: { name: 'ContentCompression', type: 'Container' },\r\n        0x254: { name: 'ContentCompAlgo', type: 'Uint' },\r\n        0x255: { name: 'ContentCompSettings', type: 'Binary' },\r\n        0x1035: { name: 'ContentEncryption', type: 'Container' },\r\n        0x7e1: { name: 'ContentEncAlgo', type: 'Uint' },\r\n        0x7e2: { name: 'ContentEncKeyID', type: 'Binary' },\r\n        0x7e3: { name: 'ContentSignature', type: 'Binary' },\r\n        0x7e4: { name: 'ContentSigKeyID', type: 'Binary' },\r\n        0x7e5: { name: 'ContentSigAlgo', type: 'Uint' },\r\n        0x7e6: { name: 'ContentSigHashAlgo', type: 'Uint' },\r\n        0xc53bb6b: { name: 'Cues', type: 'Container' },\r\n        0x3b: { name: 'CuePoint', type: 'Container' },\r\n        0x33: { name: 'CueTime', type: 'Uint' },\r\n        0x37: { name: 'CueTrackPositions', type: 'Container' },\r\n        0x77: { name: 'CueTrack', type: 'Uint' },\r\n        0x71: { name: 'CueClusterPosition', type: 'Uint' },\r\n        0x70: { name: 'CueRelativePosition', type: 'Uint' },\r\n        0x32: { name: 'CueDuration', type: 'Uint' },\r\n        0x1378: { name: 'CueBlockNumber', type: 'Uint' },\r\n        0x6a: { name: 'CueCodecState', type: 'Uint' },\r\n        0x5b: { name: 'CueReference', type: 'Container' },\r\n        0x16: { name: 'CueRefTime', type: 'Uint' },\r\n        0x17: { name: 'CueRefCluster', type: 'Uint' },\r\n        0x135f: { name: 'CueRefNumber', type: 'Uint' },\r\n        0x6b: { name: 'CueRefCodecState', type: 'Uint' },\r\n        0x941a469: { name: 'Attachments', type: 'Container' },\r\n        0x21a7: { name: 'AttachedFile', type: 'Container' },\r\n        0x67e: { name: 'FileDescription', type: 'String' },\r\n        0x66e: { name: 'FileName', type: 'String' },\r\n        0x660: { name: 'FileMimeType', type: 'String' },\r\n        0x65c: { name: 'FileData', type: 'Binary' },\r\n        0x6ae: { name: 'FileUID', type: 'Uint' },\r\n        0x675: { name: 'FileReferral', type: 'Binary' },\r\n        0x661: { name: 'FileUsedStartTime', type: 'Uint' },\r\n        0x662: { name: 'FileUsedEndTime', type: 'Uint' },\r\n        0x43a770: { name: 'Chapters', type: 'Container' },\r\n        0x5b9: { name: 'EditionEntry', type: 'Container' },\r\n        0x5bc: { name: 'EditionUID', type: 'Uint' },\r\n        0x5bd: { name: 'EditionFlagHidden', type: 'Uint' },\r\n        0x5db: { name: 'EditionFlagDefault', type: 'Uint' },\r\n        0x5dd: { name: 'EditionFlagOrdered', type: 'Uint' },\r\n        0x36: { name: 'ChapterAtom', type: 'Container' },\r\n        0x33c4: { name: 'ChapterUID', type: 'Uint' },\r\n        0x1654: { name: 'ChapterStringUID', type: 'String' },\r\n        0x11: { name: 'ChapterTimeStart', type: 'Uint' },\r\n        0x12: { name: 'ChapterTimeEnd', type: 'Uint' },\r\n        0x18: { name: 'ChapterFlagHidden', type: 'Uint' },\r\n        0x598: { name: 'ChapterFlagEnabled', type: 'Uint' },\r\n        0x2e67: { name: 'ChapterSegmentUID', type: 'Binary' },\r\n        0x2ebc: { name: 'ChapterSegmentEditionUID', type: 'Uint' },\r\n        0x23c3: { name: 'ChapterPhysicalEquiv', type: 'Uint' },\r\n        0xf: { name: 'ChapterTrack', type: 'Container' },\r\n        0x9: { name: 'ChapterTrackNumber', type: 'Uint' },\r\n        0x0: { name: 'ChapterDisplay', type: 'Container' },\r\n        0x5: { name: 'ChapString', type: 'String' },\r\n        0x37c: { name: 'ChapLanguage', type: 'String' },\r\n        0x37e: { name: 'ChapCountry', type: 'String' },\r\n        0x2944: { name: 'ChapProcess', type: 'Container' },\r\n        0x2955: { name: 'ChapProcessCodecID', type: 'Uint' },\r\n        0x50d: { name: 'ChapProcessPrivate', type: 'Binary' },\r\n        0x2911: { name: 'ChapProcessCommand', type: 'Container' },\r\n        0x2922: { name: 'ChapProcessTime', type: 'Uint' },\r\n        0x2933: { name: 'ChapProcessData', type: 'Binary' },\r\n        0x254c367: { name: 'Tags', type: 'Container' },\r\n        0x3373: { name: 'Tag', type: 'Container' },\r\n        0x23c0: { name: 'Targets', type: 'Container' },\r\n        0x28ca: { name: 'TargetTypeValue', type: 'Uint' },\r\n        0x23ca: { name: 'TargetType', type: 'String' },\r\n        0x23c5: { name: 'TagTrackUID', type: 'Uint' },\r\n        0x23c9: { name: 'TagEditionUID', type: 'Uint' },\r\n        0x23c4: { name: 'TagChapterUID', type: 'Uint' },\r\n        0x23c6: { name: 'TagAttachmentUID', type: 'Uint' },\r\n        0x27c8: { name: 'SimpleTag', type: 'Container' },\r\n        0x5a3: { name: 'TagName', type: 'String' },\r\n        0x47a: { name: 'TagLanguage', type: 'String' },\r\n        0x484: { name: 'TagDefault', type: 'Uint' },\r\n        0x487: { name: 'TagString', type: 'String' },\r\n        0x485: { name: 'TagBinary', type: 'Binary' },\r\n    };\r\n\r\n    function doInherit(newClass, baseClass) {\r\n        newClass.prototype = Object.create(baseClass.prototype);\r\n        newClass.prototype.constructor = newClass;\r\n    }\r\n\r\n    function WebmBase(name, type) {\r\n        this.name = name || 'Unknown';\r\n        this.type = type || 'Unknown';\r\n    }\r\n    WebmBase.prototype.updateBySource = function () {};\r\n    WebmBase.prototype.setSource = function (source) {\r\n        this.source = source;\r\n        this.updateBySource();\r\n    };\r\n    WebmBase.prototype.updateByData = function () {};\r\n    WebmBase.prototype.setData = function (data) {\r\n        this.data = data;\r\n        this.updateByData();\r\n    };\r\n\r\n    function WebmUint(name, type) {\r\n        WebmBase.call(this, name, type || 'Uint');\r\n    }\r\n    doInherit(WebmUint, WebmBase);\r\n    function padHex(hex) {\r\n        return hex.length % 2 === 1 ? '0' + hex : hex;\r\n    }\r\n    WebmUint.prototype.updateBySource = function () {\r\n        // use hex representation of a number instead of number value\r\n        this.data = '';\r\n        for (var i = 0; i < this.source.length; i++) {\r\n            var hex = this.source[i].toString(16);\r\n            this.data += padHex(hex);\r\n        }\r\n    };\r\n    WebmUint.prototype.updateByData = function () {\r\n        var length = this.data.length / 2;\r\n        this.source = new Uint8Array(length);\r\n        for (var i = 0; i < length; i++) {\r\n            var hex = this.data.substr(i * 2, 2);\r\n            this.source[i] = parseInt(hex, 16);\r\n        }\r\n    };\r\n    WebmUint.prototype.getValue = function () {\r\n        return parseInt(this.data, 16);\r\n    };\r\n    WebmUint.prototype.setValue = function (value) {\r\n        this.setData(padHex(value.toString(16)));\r\n    };\r\n\r\n    function WebmFloat(name, type) {\r\n        WebmBase.call(this, name, type || 'Float');\r\n    }\r\n    doInherit(WebmFloat, WebmBase);\r\n    WebmFloat.prototype.getFloatArrayType = function () {\r\n        return this.source && this.source.length === 4\r\n            ? Float32Array\r\n            : Float64Array;\r\n    };\r\n    WebmFloat.prototype.updateBySource = function () {\r\n        var byteArray = this.source.reverse();\r\n        var floatArrayType = this.getFloatArrayType();\r\n        var floatArray = new floatArrayType(byteArray.buffer);\r\n        this.data = floatArray[0];\r\n    };\r\n    WebmFloat.prototype.updateByData = function () {\r\n        var floatArrayType = this.getFloatArrayType();\r\n        var floatArray = new floatArrayType([this.data]);\r\n        var byteArray = new Uint8Array(floatArray.buffer);\r\n        this.source = byteArray.reverse();\r\n    };\r\n    WebmFloat.prototype.getValue = function () {\r\n        return this.data;\r\n    };\r\n    WebmFloat.prototype.setValue = function (value) {\r\n        this.setData(value);\r\n    };\r\n\r\n    function WebmContainer(name, type) {\r\n        WebmBase.call(this, name, type || 'Container');\r\n    }\r\n    doInherit(WebmContainer, WebmBase);\r\n    WebmContainer.prototype.readByte = function () {\r\n        return this.source[this.offset++];\r\n    };\r\n    WebmContainer.prototype.readUint = function () {\r\n        var firstByte = this.readByte();\r\n        var bytes = 8 - firstByte.toString(2).length;\r\n        var value = firstByte - (1 << (7 - bytes));\r\n        for (var i = 0; i < bytes; i++) {\r\n            // don't use bit operators to support x86\r\n            value *= 256;\r\n            value += this.readByte();\r\n        }\r\n        return value;\r\n    };\r\n    WebmContainer.prototype.updateBySource = function () {\r\n        this.data = [];\r\n        for (\r\n            this.offset = 0;\r\n            this.offset < this.source.length;\r\n            this.offset = end\r\n        ) {\r\n            var id = this.readUint();\r\n            var len = this.readUint();\r\n            var end = Math.min(this.offset + len, this.source.length);\r\n            var data = this.source.slice(this.offset, end);\r\n\r\n            var info = sections[id] || { name: 'Unknown', type: 'Unknown' };\r\n            var ctr = WebmBase;\r\n            switch (info.type) {\r\n                case 'Container':\r\n                    ctr = WebmContainer;\r\n                    break;\r\n                case 'Uint':\r\n                    ctr = WebmUint;\r\n                    break;\r\n                case 'Float':\r\n                    ctr = WebmFloat;\r\n                    break;\r\n            }\r\n            var section = new ctr(info.name, info.type);\r\n            section.setSource(data);\r\n            this.data.push({\r\n                id: id,\r\n                idHex: id.toString(16),\r\n                data: section,\r\n            });\r\n        }\r\n    };\r\n    WebmContainer.prototype.writeUint = function (x, draft) {\r\n        for (\r\n            var bytes = 1, flag = 0x80;\r\n            x >= flag && bytes < 8;\r\n            bytes++, flag *= 0x80\r\n        ) {}\r\n\r\n        if (!draft) {\r\n            var value = flag + x;\r\n            for (var i = bytes - 1; i >= 0; i--) {\r\n                // don't use bit operators to support x86\r\n                var c = value % 256;\r\n                this.source[this.offset + i] = c;\r\n                value = (value - c) / 256;\r\n            }\r\n        }\r\n\r\n        this.offset += bytes;\r\n    };\r\n    WebmContainer.prototype.writeSections = function (draft) {\r\n        this.offset = 0;\r\n        for (var i = 0; i < this.data.length; i++) {\r\n            var section = this.data[i],\r\n                content = section.data.source,\r\n                contentLength = content.length;\r\n            this.writeUint(section.id, draft);\r\n            this.writeUint(contentLength, draft);\r\n            if (!draft) {\r\n                this.source.set(content, this.offset);\r\n            }\r\n            this.offset += contentLength;\r\n        }\r\n        return this.offset;\r\n    };\r\n    WebmContainer.prototype.updateByData = function () {\r\n        // run without accessing this.source to determine total length - need to know it to create Uint8Array\r\n        var length = this.writeSections('draft');\r\n        this.source = new Uint8Array(length);\r\n        // now really write data\r\n        this.writeSections();\r\n    };\r\n    WebmContainer.prototype.getSectionById = function (id) {\r\n        for (var i = 0; i < this.data.length; i++) {\r\n            var section = this.data[i];\r\n            if (section.id === id) {\r\n                return section.data;\r\n            }\r\n        }\r\n        return null;\r\n    };\r\n\r\n    function WebmFile(source) {\r\n        WebmContainer.call(this, 'File', 'File');\r\n        this.setSource(source);\r\n    }\r\n    doInherit(WebmFile, WebmContainer);\r\n    WebmFile.prototype.fixDuration = function (duration) {\r\n        var segmentSection = this.getSectionById(0x8538067);\r\n        if (!segmentSection) {\r\n            console.log('[fix-webm-duration] Segment section is missing');\r\n            return false;\r\n        }\r\n\r\n        var infoSection = segmentSection.getSectionById(0x549a966);\r\n        if (!infoSection) {\r\n            console.log('[fix-webm-duration] Info section is missing');\r\n            return false;\r\n        }\r\n\r\n        var timeScaleSection = infoSection.getSectionById(0xad7b1);\r\n        if (!timeScaleSection) {\r\n            console.log('[fix-webm-duration] TimecodeScale section is missing');\r\n            return false;\r\n        }\r\n\r\n        var durationSection = infoSection.getSectionById(0x489);\r\n        if (durationSection) {\r\n            if (durationSection.getValue() <= 0) {\r\n                console.log(\r\n                    '[fix-webm-duration] Duration section is present, but the value is empty'\r\n                );\r\n                durationSection.setValue(duration);\r\n            } else {\r\n                console.log('[fix-webm-duration] Duration section is present');\r\n                return false;\r\n            }\r\n        } else {\r\n            console.log('[fix-webm-duration] Duration section is missing');\r\n            // append Duration section\r\n            durationSection = new WebmFloat('Duration', 'Float');\r\n            durationSection.setValue(duration);\r\n            infoSection.data.push({\r\n                id: 0x489,\r\n                data: durationSection,\r\n            });\r\n        }\r\n\r\n        // set default time scale to 1 millisecond (1000000 nanoseconds)\r\n        timeScaleSection.setValue(1000000);\r\n        infoSection.updateByData();\r\n        segmentSection.updateByData();\r\n        this.updateByData();\r\n\r\n        return true;\r\n    };\r\n    WebmFile.prototype.toBlob = function () {\r\n        return new Blob([this.source.buffer], { type: 'video/webm' });\r\n    };\r\n\r\n    return function (blob, duration, callback) {\r\n        try {\r\n            var reader = new FileReader();\r\n            reader.onloadend = function () {\r\n                try {\r\n                    var file = new WebmFile(new Uint8Array(reader.result));\r\n                    if (file.fixDuration(duration)) {\r\n                        blob = file.toBlob();\r\n                    }\r\n                } catch (ex) {\r\n                    // ignore\r\n                }\r\n                callback(blob);\r\n            };\r\n            reader.readAsArrayBuffer(blob);\r\n        } catch (ex) {\r\n            callback(blob);\r\n        }\r\n    };\r\n});\r\n","export const UserMediaService = {\r\n    async getVideo(source){\r\n        return navigator.mediaDevices.getUserMedia({\r\n            audio: false,\r\n            video: { \r\n              mandatory: {\r\n                chromeMediaSource: 'desktop',\r\n                chromeMediaSourceId: source.id,\r\n                minWidth: 1280,\r\n                maxWidth: 1920,\r\n                minHeight: 720,\r\n                maxHeight: 1080,\r\n              }\r\n            }\r\n          })\r\n          .then(UserMediaService.handleStream)\r\n          .catch(UserMediaService.handleUserMediaError)\r\n    },\r\n    async getAudio(source = null){\r\n      let audio = true;\r\n      if(source){\r\n        audio = {\r\n          deviceId: source.deviceId\r\n        };\r\n      }\r\n      return navigator.mediaDevices.getUserMedia({\r\n          audio,\r\n          video: false\r\n        })\r\n        .then(UserMediaService.handleStream)\r\n        .catch(UserMediaService.handleUserMediaError)\r\n    },\r\n    async handleStream(stream){\r\n      return stream;\r\n    },\r\n    async handleUserMediaError(error){\r\n      throw Error(error);\r\n    }\r\n};\r\n\r\n","const require = window.require,\r\n    fs = require('fs');\r\n\r\nexport const FileService = {\r\n    save(buffer, path, name){\r\n        return new Promise((resolve, reject) => {\r\n            const filename = `${path}/${name}`;\r\n            fs.writeFile(filename, buffer, (err) => {\r\n                if(err){\r\n                    reject(err);\r\n                }else{\r\n                    resolve(filename);\r\n                    console.log(filename)\r\n                }\r\n            })\r\n        })\r\n    }\r\n};","import React, {Component} from 'react';\r\n\r\nclass AudioSourceList extends Component{\r\n\r\n    static defaultProps = {\r\n        onSelect: () => {}\r\n    }\r\n\r\n    state = {\r\n        audioSources: [],\r\n        selectedSource: {}\r\n    }\r\n\r\n    componentDidMount(){\r\n        this.getSources();\r\n    }\r\n\r\n    async getSources(){\r\n        const sources = await navigator.mediaDevices.enumerateDevices(),\r\n            audioSources = sources.filter(item => item.kind === 'audioinput');\r\n        this.setState({\r\n            audioSources\r\n        }, () => {\r\n            this._loadFromStorage();\r\n        });\r\n        return audioSources;\r\n    }\r\n\r\n    _handleChange = (event) => {\r\n        const selectedSource = this.state.audioSources.find(item => item.deviceId === event.target.value);\r\n        this.selectSource(selectedSource);\r\n    }\r\n\r\n    _loadFromStorage(){\r\n        const sourceId = localStorage.getItem('_audio_source'),\r\n            selectedSource = this.state.audioSources.find(item => item.deviceId === sourceId);\r\n        if(selectedSource){\r\n            this.selectSource(selectedSource);\r\n        }else{\r\n            this.selectSource(this.state.audioSources[0]);\r\n        }\r\n    }\r\n\r\n    selectSource = (selectedSource) => {\r\n        if(selectedSource){\r\n            this.setState({selectedSource});\r\n            localStorage.setItem('_audio_source', selectedSource.deviceId);\r\n            this.props.onSelect(selectedSource);\r\n        }\r\n    }\r\n\r\n    render(){\r\n        const {state} = this;\r\n        return (\r\n            <div>\r\n                <div>Audio input source</div>\r\n                <select value={state.selectedSource.deviceId} onChange={this._handleChange} className=\"settings-select\" >\r\n                    {\r\n                        state.audioSources.map(item => <option key={item.deviceId} value={item.deviceId} >{item.label}</option>)\r\n                    }\r\n                </select>\r\n                {/*\r\n                <ul>\r\n                    {\r\n                        state.audioSources.map(item => <AudioSourceListItem key={item.deviceId} selectedSource={state.selectedSource} onSelect={this.onSourceSelect} item={item} />)\r\n                    }\r\n                </ul>\r\n                */}\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nfunction AudioSourceListItem(props){\r\n    const { item, selectedSource } = props,\r\n        cutIndex = item.label.lastIndexOf('('), \r\n        label = item.label.substr(0, cutIndex).trim();\r\n    let classes = '';\r\n\r\n    if(selectedSource && item.deviceId === selectedSource.deviceId){\r\n        classes += 'is-selected';\r\n    }\r\n\r\n    return (\r\n        <li onClick={() => props.onSelect(item)} className={classes} >\r\n            <div>{label}</div>\r\n        </li>\r\n    );\r\n}\r\n\r\nexport default AudioSourceList;","import React, {Component} from 'react';\r\n\r\nconst require = window.require;\r\nconst { desktopCapturer } = require('electron');\r\n\r\nclass VideoSourceList extends Component{\r\n\r\n    static defaultProps = {\r\n        onSelect: () => {}\r\n    }\r\n\r\n    state = {\r\n        screenSources: [],\r\n        windowSources: [],\r\n        selectedSource: {}\r\n    }\r\n\r\n    componentDidMount(){\r\n        this.getSources();\r\n    }\r\n\r\n    getSources(){\r\n        desktopCapturer.getSources({ types: ['window', 'screen'] }, (error, sources) => {\r\n            const windowSources = sources.filter(item => item.id.includes('window')),\r\n                screenSources = sources.filter(item => item.id.includes('screen'));\r\n\r\n            this.setState({\r\n                windowSources,\r\n                screenSources\r\n            }, () => {\r\n                this._loadFromStorage();\r\n            });\r\n        })\r\n    }\r\n\r\n    _handleChange = (event) => {\r\n        const {screenSources, windowSources} = this.state,\r\n            selectedSource = [...screenSources, ...windowSources].find(item => item.id === event.target.value);\r\n        this.selectSource(selectedSource);\r\n    }\r\n\r\n    _loadFromStorage(){\r\n        const {screenSources, windowSources} = this.state,\r\n            sourceId = localStorage.getItem('_video_source'),\r\n            selectedSource = [...screenSources, ...windowSources].find(item => item.id === sourceId);\r\n        if(selectedSource){\r\n            this.selectSource(selectedSource);\r\n        }else{\r\n            this.selectSource(screenSources[0]);\r\n        }\r\n    }\r\n\r\n    selectSource = (selectedSource) => {\r\n        if(selectedSource){\r\n            this.setState({selectedSource});\r\n            localStorage.setItem('_video_source', selectedSource.id);\r\n            this.props.onSelect(selectedSource);\r\n        }\r\n    }\r\n\r\n    render(){\r\n        const {state} = this;\r\n        return (\r\n            <div>\r\n                <div>Video input  source</div>\r\n                <select value={state.selectedSource.id} onChange={(this._handleChange)} className=\"settings-select\" >\r\n                    <option>-- SCREENS --</option>\r\n                    {\r\n                        state.screenSources.map(item => <option key={item.id} value={item.id} >{item.name}</option>)\r\n                    }\r\n                    <option>-- WINDOWS --</option>\r\n                    {\r\n                        state.windowSources.map(item => <option key={item.id} value={item.id} >{item.name}</option>)\r\n                    }\r\n                </select>\r\n                {/*\r\n                <ul>\r\n                    {\r\n                        state.screenSources.map(item => <VideoSourceListItem key={item.id} selectedSource={state.selectedSource} onSelect={this.onSourceSelect} item={item} />)\r\n                    }\r\n                </ul>\r\n                \r\n                <hr />\r\n\r\n                {!state.selectedSource ? '' : <img src={state.selectedSource.thumbnail.toDataURL()} />}\r\n                <div>Windows</div>\r\n                <ul>\r\n                    {\r\n                        state.windowSources.map(item => <VideoSourceListItem key={item.id} selectedSource={state.selectedSource} onSelect={this.onSourceSelect} item={item} />)\r\n                    }\r\n                </ul>\r\n                \r\n                */}\r\n                \r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nfunction VideoSourceListItem(props){\r\n    const { item, selectedSource } = props;\r\n    let classes = '';\r\n\r\n    if(selectedSource && item.id === selectedSource.id){\r\n        classes += 'is-selected';\r\n    }\r\n    return (\r\n        <li onClick={() => props.onSelect(item)} className={classes} >\r\n            <img src={item.thumbnail.toDataURL()} />\r\n            <div>{item.name}</div>\r\n        </li>\r\n    );\r\n}\r\n\r\nexport default VideoSourceList;","import React, { Component } from 'react';\r\n\r\nimport { UserMediaService } from './../services/UserMediaService';\r\n\r\nclass AudioVisualization extends Component{\r\n    static defaultProps = {\r\n        audioDevice: null\r\n    }\r\n\r\n    state = {\r\n        isDrawActive: true\r\n    }\r\n\r\n    constructor(props){\r\n        super(props);\r\n        this.canvas = React.createRef();\r\n        this.canDraw = false;\r\n        //this.audioMini = React.createRef();\r\n    }\r\n\r\n    async componentDidUpdate(){\r\n        if(this.props.audioDevice){\r\n            this.start();\r\n        }else{\r\n            this.stop();\r\n        }\r\n    }\r\n\r\n    async componentDidMount(){\r\n        this.canvasCtx = this.canvas.current.getContext('2d');\r\n        if(this.props.audioDevice){\r\n            this.start();\r\n        }\r\n    }\r\n\r\n    toggleDrawActive = () => {\r\n        this.setState(({isDrawActive}) => {\r\n            return {isDrawActive: !isDrawActive};\r\n        }, () => {\r\n            this.draw();\r\n        })\r\n    }\r\n \r\n    start(){\r\n        this.startAudio();\r\n        this.startCanvas();\r\n        this.canDraw = true;\r\n        this.draw();\r\n\r\n        //this.getBarValues();\r\n    }\r\n\r\n    stop(){\r\n        this.canDraw = false;\r\n        this.clearCanvas();\r\n    }\r\n\r\n    async startAudio(){\r\n        if(this.props.audioDevice){\r\n            this.audioStream = await UserMediaService.getAudio(this.props.audioDevice);\r\n            const audioCtx = new (window.AudioContext || window.webkitAudioContext)(),\r\n            analyser = audioCtx.createAnalyser(),\r\n            source = audioCtx.createMediaStreamSource(this.audioStream);\r\n        \r\n            source.connect(analyser);\r\n\r\n            analyser.fftSize = 256;\r\n            this.analyser = analyser;\r\n            this.bufferLength = analyser.frequencyBinCount;\r\n            this.dataArray = new Uint8Array(this.bufferLength);\r\n        }\r\n    }\r\n\r\n    startCanvas(){\r\n        const canvas = this.canvas.current;\r\n        canvas.width = this.props.width || 100;\r\n        canvas.height = this.props.height || 100;\r\n    }\r\n\r\n    \r\n    clearCanvas(){\r\n        const canvas = this.canvas.current,\r\n            {width, height} = canvas;\r\n        this.canvasCtx.clearRect(0, 0, width, height);\r\n    }\r\n\r\n    getBarValues(){\r\n        const {bufferLength, dataArray, analyser} = this;\r\n\r\n        //requestAnimationFrame(this.getBarValues.bind(this));\r\n        //setTimeout(this.getBarValues.bind(this), 1000/10)\r\n\r\n        if(!this.audioStream){\r\n            return false;\r\n        }\r\n        analyser.getByteFrequencyData(dataArray);\r\n\r\n        const numArrays = 3,\r\n            numElements = Math.floor(bufferLength / numArrays),\r\n            maxNumber = Math.max(...dataArray),\r\n            arrayList = [];\r\n\r\n        for(let i = 0; i < numArrays; i++){\r\n            const number = this.average(dataArray.slice(0, numElements));\r\n            arrayList.push( Math.trunc(((number / maxNumber) || 0 ) * 10) + '0' )  ;\r\n        }\r\n    }\r\n\r\n    average(numbers){\r\n        const length = numbers.length,\r\n            values = numbers.reduce((previous, current) => current += previous);\r\n        return values/length;\r\n    }\r\n\r\n    draw() {\r\n        if(this.canDraw && this.state.isDrawActive){\r\n            const canvas = this.canvas.current,\r\n                {width, height} = canvas,\r\n                {canvasCtx, bufferLength, dataArray, analyser} = this;\r\n            \r\n            this.clearCanvas();\r\n\r\n            requestAnimationFrame(this.draw.bind(this));\r\n            //setTimeout(this.draw.bind(this), 1000/10)\r\n\r\n\r\n            if(!this.audioStream){\r\n                return false;\r\n            }\r\n\r\n    \r\n            analyser.getByteFrequencyData(dataArray);\r\n    \r\n            /*canvasCtx.fillStyle = 'rgb(0, 0, 0)';\r\n            canvasCtx.fillRect(0, 0, width, height);*/\r\n\r\n            const barWidth = (width / bufferLength) * 2.5;\r\n            let barHeight,\r\n            x = 0;\r\n\r\n\r\n            for(let i = 0; i < bufferLength; i++) {\r\n                barHeight = dataArray[i]/2;\r\n        \r\n                canvasCtx.fillStyle = 'rgb(50, ' + (barHeight + 100) + ',50)';\r\n                canvasCtx.fillRect(x, height - barHeight / 2, barWidth, barHeight);\r\n        \r\n                x += barWidth + 1;\r\n            }\r\n            \r\n\r\n           /*const barWidth = width;\r\n           let barHeight;\r\n\r\n           for(let i = 0; i < bufferLength; i++) {\r\n                barHeight = dataArray[i]/2;\r\n\r\n                var grad1 = canvasCtx.createLinearGradient(0, height * .2, 0, height);\r\n                grad1.addColorStop(0.2, '#f15a47'); //red\r\n                grad1.addColorStop(0.5, '#f2ee47'); // yellow\r\n                grad1.addColorStop(1, '#389f47'); // green\r\n\r\n                canvasCtx.fillStyle = grad1;\r\n       \r\n                //canvasCtx.fillStyle = 'rgb(50, ' + (barHeight + 100) + ',50)';\r\n                canvasCtx.fillRect(0, height - barHeight / 2, barWidth, barHeight);\r\n           }*/\r\n        }\r\n\r\n\r\n    }\r\n\r\n    render(){\r\n        const {state} = this,\r\n            canvasStyle = state.isDrawActive ? {} : {backgroundColor: '#333'};\r\n\r\n        return (\r\n            <div>\r\n                {/* <AudioVisualizationMini ref={this.audioMini} /> */}\r\n                <canvas style={canvasStyle} onClick={this.toggleDrawActive} ref={this.canvas} height={50} width={100} />\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nclass AudioVisualizationMini extends Component{\r\n    state = {\r\n        bar1: 0,\r\n        bar2: 0,\r\n        bar3: 0\r\n    }\r\n\r\n    render(){\r\n        const {bar1, bar2, bar3} = this.state,\r\n            a = `bar-height-${bar1}`,\r\n            b = `bar-height-${bar2}`,\r\n            c = `bar-height-${bar3}`;\r\n        return (\r\n            <div className=\"audio-visualization-mini\" >\r\n                <div className=\"audio-visualization-bar-container\" >\r\n                    <div className={\"audio-bar \" + a} ></div>\r\n                    <div className={\"audio-bar \" + b} ></div>\r\n                    <div className={\"audio-bar \" + c} ></div>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n    \r\n}\r\n\r\nexport default AudioVisualization;","import React, { Component } from 'react';\r\n\r\nclass TimeCounter extends Component{\r\n    state = {\r\n        totalSeconds: 0\r\n    }\r\n\r\n    constructor(props){\r\n        super(props);\r\n        this.timer = null;\r\n    }\r\n\r\n    start(){\r\n        this.timer = setInterval(() => this.increment(), 1000);\r\n    }\r\n\r\n    stop(){\r\n        clearInterval(this.timer);\r\n    }\r\n\r\n    reset(){\r\n        this.setState({\r\n            totalSeconds: 0\r\n        });\r\n    }\r\n\r\n    increment(){\r\n        this.setState(({totalSeconds}) => ({totalSeconds: totalSeconds + 1}));\r\n    }\r\n\r\n    numberFormat(number){\r\n        return ('00' + number).slice(-2);\r\n    }\r\n\r\n    getTime(){\r\n        const {totalSeconds} = this.state;\r\n\r\n        const hours = Math.floor(totalSeconds /3600),\r\n            minutes = Math.floor((totalSeconds - hours*3600)/60),\r\n            seconds = totalSeconds - (hours*3600 + minutes*60);\r\n\r\n        return {seconds, minutes, hours};\r\n    }\r\n\r\n    render(){\r\n        const {seconds, minutes, hours} = this.getTime();\r\n        return (\r\n            <div className=\"time-counter\" >\r\n                <span>{hours}:{this.numberFormat(minutes)}:{this.numberFormat(seconds)}</span>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default TimeCounter;","import React, { Component } from 'react';\r\n\r\nconst require = window.require;\r\nconst { remote } = require('electron');\r\n\r\nclass SaveFilepath extends Component{\r\n    state = {\r\n        folder: '',\r\n        filename: '',\r\n        hasTime: false,\r\n        format: ''\r\n    }\r\n\r\n    constructor(props){\r\n        super(props);\r\n        this.formatList = ['mp4', 'avi'];\r\n    }\r\n\r\n    componentDidMount(){\r\n        const folder = localStorage.getItem('_filepath_folder') || '',\r\n            format = localStorage.getItem('_filepath_format') || 'webm',\r\n            hasTime = localStorage.getItem('_filepath_hasTime') === 'true';\r\n        this.setState({\r\n            folder,\r\n            format,\r\n            hasTime\r\n        })\r\n    }\r\n\r\n    selectFolder = async () => {\r\n        const folder = remote.dialog.showOpenDialog({ properties: ['openDirectory'] });\r\n        if(folder){\r\n            this.setState({folder: folder[0]});\r\n            localStorage.setItem(`_filepath_folder`, folder[0]);\r\n        }\r\n    }\r\n\r\n    handleChange = (event) => {\r\n        const { target } = event,\r\n            {name} = target,\r\n            value = target.type === 'checkbox' ? target.checked : target.value;\r\n\r\n        this.setState({\r\n            [name]: value\r\n        })\r\n\r\n        localStorage.setItem(`_filepath_${name}`, value);\r\n    }\r\n\r\n    render(){\r\n        const {folder, filename, format, hasTime} = this.state;\r\n        return(\r\n            <div className=\"save-file-path\" >\r\n                <input name=\"folder\" type=\"text\" onClick={this.selectFolder} value={folder} placeholder=\"folder\" readOnly />\r\n                <input name=\"filename\" type=\"text\" onChange={this.handleChange} value={filename} placeholder=\"file name\" />\r\n                <select name=\"format\" onChange={this.handleChange} value={format} >\r\n                    <option value=\"webm\" >webm (default)</option>\r\n                    {\r\n                        this.formatList.map(format => <option key={format} value={format} >{format}</option>)\r\n                    }\r\n                </select>\r\n                <label>\r\n                    <input name=\"hasTime\" type=\"checkbox\" onChange={this.handleChange} checked={hasTime} />\r\n                    Time\r\n                </label>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default SaveFilepath;","import React, { Component } from 'react';\r\nimport './App.css';\r\n\r\nimport { UserMediaService } from './services/UserMediaService';\r\nimport { RecorderService } from './services/RecorderService';\r\nimport { FileService } from './services/FileService';\r\n\r\nimport AudioSourceList from './components/AudioSourceList';\r\nimport VideoSourceList from './components/VideoSourceList';\r\nimport AudioVisualization from './components/AudioVisualization';\r\nimport TimeCounter from './components/TimeCounter';\r\nimport SaveFilepath from './components/SaveFilepath';\r\n\r\nconst require = window.require;\r\nconst { ipcRenderer, remote } = require('electron');\r\n// https://zhirzh.github.io/2017/09/02/mediarecorder/\r\n\r\nclass App extends Component {\r\n    state = {\r\n        isRecording: false,\r\n        isPaused: false,\r\n        canRecordSystemAudio: false,\r\n        videoTarget: null,\r\n        audioTarget: null,\r\n        systemAudioTarget: null,\r\n        isLoading: false,\r\n    };\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.video = React.createRef();\r\n        this.timeCounter = React.createRef();\r\n        this.savefilepath = React.createRef();\r\n        this.videoSourceList = React.createRef();\r\n        this.audioSourceList = React.createRef();\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.handleShortcuts();\r\n\r\n        ipcRenderer.on('back:convert-video:complete', () => {\r\n            this.setState({ isLoading: false });\r\n        });\r\n    }\r\n\r\n    handleShortcuts() {\r\n        ipcRenderer.on('play', () => {\r\n            const { isRecording, isPaused } = this.state;\r\n            if (!isRecording && !isPaused) {\r\n                this.start();\r\n            } else if (isRecording && !isPaused) {\r\n                this.pause();\r\n            } else {\r\n                this.resume();\r\n            }\r\n        });\r\n        ipcRenderer.on('stop', () => {\r\n            this.stop();\r\n        });\r\n        ipcRenderer.on('delete', () => {\r\n            this.cancelRecording();\r\n        });\r\n    }\r\n\r\n    onVideoSourceSelect = async (source) => {\r\n        this.setState({ videoTarget: source });\r\n        const video = this.video.current;\r\n\r\n        UserMediaService.getVideo(source)\r\n            .then((stream) => {\r\n                console.log(source, stream);\r\n                video.srcObject = stream;\r\n                video.muted = true;\r\n                video.onloadedmetadata = (e) => video.play();\r\n            })\r\n            .catch(() => {\r\n                const videoSourceList = this.videoSourceList.current;\r\n                videoSourceList.selectSource(\r\n                    videoSourceList.state.screenSources[0]\r\n                );\r\n            });\r\n    };\r\n\r\n    onAudioSourceSelect = async (source) => {\r\n        this.setState({ audioTarget: source });\r\n\r\n        UserMediaService.getAudio(source)\r\n            .then((stream) => {\r\n                console.log(source, stream);\r\n            })\r\n            .catch(() => {\r\n                const audioSourceList = this.audioSourceList.current;\r\n                audioSourceList.selectSource(\r\n                    audioSourceList.state.audioSources[0]\r\n                );\r\n            });\r\n    };\r\n\r\n    onRecordSystemAudioChange = async (event) => {\r\n        const canRecordSystemAudio = event.currentTarget.checked;\r\n        let systemAudioTarget = false;\r\n        if (canRecordSystemAudio) {\r\n            systemAudioTarget = await UserMediaService.getAudio();\r\n        }\r\n        this.setState({ canRecordSystemAudio, systemAudioTarget });\r\n    };\r\n\r\n    start = async () => {\r\n        const savefilepath = this.savefilepath.current;\r\n        if (this.state.isLoading) {\r\n            return false;\r\n        }\r\n        if (!savefilepath.state.folder) {\r\n            remote.dialog.showMessageBox({\r\n                message: 'Select a folder to save the file',\r\n            });\r\n            this.savefilepath.current.selectFolder();\r\n            return false;\r\n        }\r\n\r\n        const {\r\n                videoTarget,\r\n                audioTarget,\r\n                isRecording,\r\n                canRecordSystemAudio,\r\n                systemAudioTarget,\r\n            } = this.state,\r\n            stream = this.video.current.srcObject;\r\n        if (videoTarget && !isRecording) {\r\n            if (audioTarget) {\r\n                const audioStream = await UserMediaService.getAudio(\r\n                        audioTarget\r\n                    ),\r\n                    audioTracks = audioStream.getAudioTracks();\r\n                stream.addTrack(audioTracks[0]);\r\n            }\r\n            RecorderService.start(stream);\r\n            this.setState({ isRecording: true, isPaused: false });\r\n            this.timeCounter.current.start();\r\n            ipcRenderer.send('win:start');\r\n        }\r\n    };\r\n\r\n    pause = async () => {\r\n        const { isRecording, isPaused } = this.state;\r\n        if (isRecording && !isPaused) {\r\n            RecorderService.pause();\r\n            this.setState({ isRecording: true, isPaused: true });\r\n            this.timeCounter.current.stop();\r\n            ipcRenderer.send('win:pause');\r\n        }\r\n    };\r\n\r\n    resume = async () => {\r\n        const { isRecording, isPaused } = this.state;\r\n        if (isRecording && isPaused) {\r\n            RecorderService.resume();\r\n            this.setState({ isRecording: true, isPaused: false });\r\n            this.timeCounter.current.start();\r\n            ipcRenderer.send('win:resume');\r\n        }\r\n    };\r\n\r\n    stop = async () => {\r\n        const { isRecording } = this.state;\r\n        if (isRecording) {\r\n            const totalTime =\r\n                this.timeCounter.current.state.totalSeconds * 1000;\r\n            const buffer = await RecorderService.stop(totalTime);\r\n            this.setState({ isRecording: false, isPaused: false });\r\n            this.timeCounter.current.stop();\r\n            this.timeCounter.current.reset();\r\n            ipcRenderer.send('win:stop');\r\n            return this.saveFile(buffer);\r\n        }\r\n    };\r\n\r\n    saveFile = async (buffer) => {\r\n        const savefilepath = this.savefilepath.current;\r\n        const folder = `${savefilepath.state.folder || '.'}/`,\r\n            hasTime = savefilepath.state.hasTime,\r\n            format = savefilepath.state.format,\r\n            fileName = `${\r\n                savefilepath.state.filename || Date.now().toString()\r\n            }${!hasTime ? '' : Date.now().toString()}.webm`;\r\n\r\n        await FileService.save(buffer, folder, fileName);\r\n        if (format !== 'webm') {\r\n            this.setState({ isLoading: true });\r\n            ipcRenderer.send('win:convert-video', {\r\n                folder,\r\n                fileName,\r\n                type: format,\r\n            });\r\n        }\r\n        console.log('save');\r\n    };\r\n\r\n    deleteRecording = async () => {\r\n        const { isRecording } = this.state;\r\n        if (isRecording) {\r\n            await RecorderService.stop();\r\n            this.setState({ isRecording: false, isPaused: false });\r\n            this.timeCounter.current.stop();\r\n            this.timeCounter.current.reset();\r\n            ipcRenderer.send('win:cancel');\r\n        }\r\n    };\r\n\r\n    cancelRecording = async () => {\r\n        this.pause();\r\n        const options = {\r\n            type: 'question',\r\n            buttons: ['No', 'Yes'],\r\n            defaultId: 2,\r\n            title: 'Question',\r\n            message: 'Do you want to delete the current recording?',\r\n            detail: 'it cannot be undone',\r\n        };\r\n        remote.dialog.showMessageBox(null, options, (response) => {\r\n            if (response === 1) {\r\n                // Yes\r\n                this.deleteRecording();\r\n            }\r\n        });\r\n    };\r\n\r\n    controlButtons() {\r\n        const { isRecording, isPaused } = this.state;\r\n\r\n        if (isRecording && !isPaused) {\r\n            return (\r\n                <>\r\n                    <button\r\n                        className=\"record-control-button\"\r\n                        onClick={this.cancelRecording}\r\n                    >\r\n                        <i className=\"fas fa-trash-alt\" />\r\n                        <span>Delete</span>\r\n                    </button>\r\n                    <button\r\n                        className=\"record-control-button\"\r\n                        onClick={this.pause}\r\n                    >\r\n                        <i className=\"fas fa-pause\" />\r\n                        <span>Pause</span>\r\n                    </button>\r\n                    <button\r\n                        className=\"record-control-button\"\r\n                        onClick={this.stop}\r\n                    >\r\n                        <i className=\"fas fa-stop\" />\r\n                        <span>Stop</span>\r\n                    </button>\r\n                </>\r\n            );\r\n        } else {\r\n            return (\r\n                <>\r\n                    <button\r\n                        className=\"record-control-button\"\r\n                        onClick={this.cancelRecording}\r\n                    >\r\n                        <i className=\"fas fa-trash-alt\" />\r\n                        <span>Delete</span>\r\n                    </button>\r\n                    <button\r\n                        className=\"record-control-button\"\r\n                        onClick={this.resume}\r\n                    >\r\n                        <i className=\"fas fa-play\" />\r\n                        <span>Resume</span>\r\n                    </button>\r\n                    <button\r\n                        className=\"record-control-button\"\r\n                        onClick={this.stop}\r\n                    >\r\n                        <i className=\"fas fa-stop\" />\r\n                        <span>Stop</span>\r\n                    </button>\r\n                </>\r\n            );\r\n        }\r\n    }\r\n\r\n    render() {\r\n        const { isRecording, canRecordSystemAudio, audioTarget, isLoading } =\r\n            this.state;\r\n        let appClassName = 'App';\r\n        if (isRecording) {\r\n            appClassName += ' is-recording';\r\n        }\r\n        return (\r\n            <div className={appClassName}>\r\n                <div className=\"app-container\">\r\n                    <video className=\"video-preview\" ref={this.video} />\r\n                    <div className=\"audio-visualization-container\">\r\n                        <AudioVisualization\r\n                            height={50}\r\n                            width={100}\r\n                            audioDevice={audioTarget}\r\n                        />\r\n                    </div>\r\n\r\n                    <div className=\"settings-control\">\r\n                        <div className=\"settings-sources\">\r\n                            <VideoSourceList\r\n                                ref={this.videoSourceList}\r\n                                onSelect={this.onVideoSourceSelect}\r\n                            />\r\n                            <AudioSourceList\r\n                                ref={this.audioSourceList}\r\n                                onSelect={this.onAudioSourceSelect}\r\n                            />\r\n                            <label style={{ display: 'none' }}>\r\n                                <input\r\n                                    disabled\r\n                                    type=\"checkbox\"\r\n                                    checked={canRecordSystemAudio}\r\n                                    onChange={this.onRecordSystemAudioChange}\r\n                                />{' '}\r\n                                Record System Audio\r\n                            </label>\r\n                        </div>\r\n                        <div className=\"record-control\">\r\n                            <button\r\n                                className=\"record-control-button\"\r\n                                onClick={this.start}\r\n                            >\r\n                                <i className=\"fas fa-circle\" />\r\n                                <span>Record</span>\r\n                            </button>\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div className=\"recording-control\">\r\n                        <div className=\"time-counter-container\">\r\n                            <TimeCounter ref={this.timeCounter} isActive />\r\n                        </div>\r\n                        <div className=\"record-control\">\r\n                            {this.controlButtons()}\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div className=\"save-file-container\">\r\n                        <SaveFilepath ref={this.savefilepath} />\r\n                    </div>\r\n                </div>\r\n\r\n                <div\r\n                    className={\r\n                        'loading-container' + (isLoading ? ' is-loading' : '')\r\n                    }\r\n                >\r\n                    <span>Wait . . .</span>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default App;\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.1/8 is considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl)\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready.then(registration => {\r\n      registration.unregister();\r\n    });\r\n  }\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport * as serviceWorker from './serviceWorker';\r\n\r\nReactDOM.render(<App />, document.getElementById('root'));\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n","import * as ysFixWebmDuration from './../3rd/fix-webm-duration';\r\n\r\nexport const RecorderService = {\r\n    recorder: null,\r\n    blobs: [],\r\n    start(stream) {\r\n        if (!RecorderService.recorder) {\r\n            RecorderService.recorder = new MediaRecorder(stream);\r\n            RecorderService.blobs = [];\r\n\r\n            RecorderService.recorder.ondataavailable = function (event) {\r\n                RecorderService.blobs.push(event.data);\r\n            };\r\n\r\n            RecorderService.recorder.start();\r\n        }\r\n    },\r\n    async stop(duration) {\r\n        return new Promise((resolve) => {\r\n            if (\r\n                RecorderService.recorder &&\r\n                RecorderService.recorder.state !== null\r\n            ) {\r\n                RecorderService.recorder.onstop = function () {\r\n                    const videoBlob = new Blob(RecorderService.blobs, {\r\n                        type: 'video/webm',\r\n                    });\r\n\r\n                    ysFixWebmDuration(\r\n                        videoBlob,\r\n                        duration,\r\n                        function (fixedBlob) {\r\n                            RecorderService.toArrayBuffer(\r\n                                fixedBlob,\r\n                                function (arrayBuffer) {\r\n                                    const buffer =\r\n                                        RecorderService.toBuffer(arrayBuffer);\r\n                                    resolve(buffer);\r\n                                }\r\n                            );\r\n                            RecorderService.recorder = null;\r\n                        }\r\n                    );\r\n                };\r\n                RecorderService.recorder.stop();\r\n            }\r\n        });\r\n    },\r\n    pause() {\r\n        if (\r\n            RecorderService.recorder &&\r\n            RecorderService.recorder.state === 'recording'\r\n        ) {\r\n            RecorderService.recorder.pause();\r\n        }\r\n    },\r\n    resume() {\r\n        if (\r\n            RecorderService.recorder &&\r\n            RecorderService.recorder.state === 'paused'\r\n        ) {\r\n            RecorderService.recorder.resume();\r\n        }\r\n    },\r\n    toArrayBuffer(blob, callback) {\r\n        let fileReader = new FileReader();\r\n        fileReader.onload = function () {\r\n            let arrayBuffer = this.result;\r\n            callback(arrayBuffer);\r\n        };\r\n        fileReader.readAsArrayBuffer(blob);\r\n    },\r\n    toBuffer(arrayBuffer) {\r\n        let buffer = new Buffer(arrayBuffer.byteLength);\r\n        let arr = new Uint8Array(arrayBuffer);\r\n        for (let i = 0; i < arr.byteLength; i++) {\r\n            buffer[i] = arr[i];\r\n        }\r\n        return buffer;\r\n    },\r\n};\r\n"],"sourceRoot":""}